<div class="content">
    <section class="box">
        <div id="post-header">
            <header>
                <div class="profile">
                    <img src="data:image/png;base64,{{post.student.profile_picture}}" alt="imagen">
                    <p>{{post.student.username}}</p>
                </div>
                <div class="calendar">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-bolt" width="40" height="40"
                        viewBox="0 0 24 24" stroke-width="1.5" stroke="#5c6671" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M13.5 21h-7.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5" />
                        <path d="M16 3v4" />
                        <path d="M8 3v4" />
                        <path d="M4 11h16" />
                        <path d="M19 16l-2 3h4l-2 3" />
                    </svg>
                    <p>{{formatearFecha(post.date)}}</p>
                </div>
            </header>
            <img src="data:image/png;base64, {{post.image}}" alt="imagen">
        </div>

        <div id="post-information">
            <header>
                <div class="url" (click)="redirectToUrl(post.demoUrl)">
                    <p>Demo URL</p>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                        <path fill="none" d="M0 0h24v24H0z" />
                        <path fill="#D7BBFF"
                            d="M13 3v2h3.586l-7.293 7.293 1.414 1.414L18 6.414V10h2V3h-7zm5 16H6V6h5V4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2v5z" />
                    </svg>
                </div>

                <div class="url" (click)="redirectToUrl(post.repoUrl)">
                    <p>Repository URL</p>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                        <path fill="none" d="M0 0h24v24H0z" />
                        <path fill="#D7BBFF"
                            d="M13 3v2h3.586l-7.293 7.293 1.414 1.414L18 6.414V10h2V3h-7zm5 16H6V6h5V4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2v5z" />
                    </svg>
                </div>
                
                <div class="container">
                    <div class="icons">
                        <p>{{post.rockets}}</p>
                        <button (click)="handleRocket()" class="rocket">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rocket" width="40" height="40"
                                viewBox="0 0 24 24" stroke-width="1.5" [attr.stroke]="svgColor" fill="none" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3" />
                                <path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3" />
                                <path d="M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
                            </svg>
                        </button>
                    </div>
                    
                    <div class="icons">
                        <p>{{post.comments}}</p>
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-message-2" width="40" height="40"
                            viewBox="0 0 24 24" stroke-width="1.5" stroke="#A5ABB7" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M8 9h8" />
                            <path d="M8 13h6" />
                            <path d="M9 18h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-3l-3 3l-3 -3z" />
                        </svg>
                    </div>
                </div>
                
            </header>
        </div>

        <div class="project-description">
            <h1>{{post.title}}</h1>
            <p>{{post.description}}</p>
        </div>
    </section>
    <div class="vertical-line"></div>
    <section id="comments">
        <ul>
            @for (comment of comments; track comment.id){
                <li>
                    <article class = "card">
                        <div class="head-comment">
                            <img src="data:image/png;base64, {{comment.student.profile_picture}}" alt="imagen">
                            <div class="description">
                                <p class="username">{{comment.student.username}}</p>
                                <p class="date">{{formatearFecha(comment.date.toString())}}</p>
                            </div>
                        </div>
                        <p class="text">{{comment.content}}</p>
                    </article>
                </li>
            }
        </ul>
        <div class="send-comment">
            <form [formGroup]="formGroup" (ngSubmit)="submit()" class="form-send-comment">
                <textarea formControlName="content" placeholder="Comentar algo" class="textarea-comment">
                </textarea>
                <button type="submit" class="button-submit">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-send-2" width="32" height="32"
                        viewBox="0 0 24 24" stroke-width="1.5" stroke="#4B5563" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path
                            d="M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z" />
                        <path d="M6.5 12h14.5" />
                    </svg>
                </button>
            </form>
        </div>
    </section>
</div>