import{m as k,n as N,o as X}from"./chunk-5C3D3XG4.js";import{A as ee}from"./chunk-NA3O3TC7.js";import{a as F,b as d,c as O,d as T,e as W,f as G,g as I,h as Z,i as $,j as Y,k as J,l as K,m as Q,n as U}from"./chunk-3GCZKQOD.js";import{a as E}from"./chunk-WDAXVFCK.js";import"./chunk-EY5NCU4T.js";import{k as y,l as P,n as j}from"./chunk-L72Q6YKE.js";import"./chunk-WXI33M2S.js";import{Jb as v,Kb as a,Nb as q,Ob as L,Pb as V,Ra as m,Sa as p,X as _,ea as x,fa as C,ib as g,kb as c,na as b,oa as w,qb as r,rb as n,sb as h,tb as B,ub as R,uc as S,vb as H,vc as D,yb as M}from"./chunk-WTQUK53E.js";var te=e=>{let t=e.get("pwd"),A=e.get("confirmPassword");return t&&A&&t.value!==A.value?{passwordMismatch:!0}:null};function de(e,t){e&1&&(r(0,"mat-error"),a(1," Este campo es obligatorio "),n())}function pe(e,t){e&1&&(r(0,"mat-error"),a(1," Ingrese un correo v\xE1lido "),n())}function fe(e,t){e&1&&(r(0,"mat-error"),a(1," Este campo es obligatorio. "),n())}function ue(e,t){e&1&&(r(0,"mat-error"),a(1," Solo se permiten letras, n\xFAmeros y guiones bajos. "),n())}function ge(e,t){e&1&&(r(0,"mat-error"),a(1," Este campo es obligatorio."),h(2,"br"),n())}function he(e,t){e&1&&(r(0,"mat-error"),a(1," La contrase\xF1a debe tener al menos 8 caracteres."),h(2,"br"),n())}function ve(e,t){e&1&&(r(0,"mat-error"),a(1," La contrase\xF1a debe tener al menos una letra may\xFAscula, una letra min\xFAscula y un n\xFAmero."),h(2,"br"),n())}function _e(e,t){e&1&&(r(0,"mat-error"),a(1," Este campo es obligatorio. "),n())}function xe(e,t){e&1&&(r(0,"mat-error"),a(1," Las contrase\xF1as no coinciden. "),n())}function Ce(e,t){e&1&&(r(0,"mat-error"),a(1," La contrase\xF1a debe tener al menos 8 caracteres. "),n())}function be(e,t){e&1&&(r(0,"mat-error"),a(1," La contrase\xF1a debe tener al menos una letra may\xFAscula, una letra min\xFAscula y un n\xFAmero. "),n())}var oe=(()=>{let t=class t{constructor(s,i,o,f){this.fb=s,this.authService=i,this.snackBar=o,this.router=f,this.form=this.fb.group({username:[,[d.required,d.pattern("^[a-zA-Z0-9_]*$")]],email:[,[d.required,d.email]],pwd:[,[d.required,d.minLength(8),d.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).*$")]],confirmPassword:[,[d.required,d.minLength(8),d.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).*$")]]},{validator:te}),this.passwordVisible=!1}controlHasError(s,i){return this.form.controls[s].hasError(i)}controlTouched(s){let i=this.form.get(s);return i&&i.touched||!1}signup(){if(this.form.invalid)return;let s=this.form.value;this.authService.signup(s).subscribe({next:i=>{this.authService.authenticate({email:s.email,pwd:s.pwd}).subscribe(o=>{this.snackBar.open(`Bienvenido ${o.username}`,"Cerrar",{duration:5e3,verticalPosition:"bottom",horizontalPosition:"center"}),this.router.navigate(["home"])})},error:i=>{this.snackBar.open(i,"Cerrar",{duration:5e3,verticalPosition:"bottom",horizontalPosition:"center"})}})}};t.\u0275fac=function(i){return new(i||t)(p(K),p(E),p(k),p(y))},t.\u0275cmp=x({type:t,selectors:[["app-signup"]],decls:32,vars:13,consts:[[1,"canvas"],[1,"form-div"],[1,"header-div"],[1,"title","highlight","purple"],["autocomplete","off",3,"ngSubmit","formGroup"],["type","text","placeholder","Correo electr\xF3nico","formControlName","email"],[1,"error-div"],[4,"ngIf"],["type","text","placeholder","Nombre de usuario","formControlName","username"],["type","password","placeholder","Contrase\xF1a","formControlName","pwd"],["type","password","placeholder","Confirmar contrase\xF1a","formControlName","confirmPassword"],[1,"footer-div"],["type","submit",3,"disabled"],["routerLink","/"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Crear cuenta"),n()(),r(5,"form",4),M("ngSubmit",function(){return o.signup()}),h(6,"input",5),r(7,"div",6),g(8,de,2,0,"mat-error",7)(9,pe,2,0,"mat-error",7),n(),h(10,"input",8),r(11,"div",6),g(12,fe,2,0,"mat-error",7)(13,ue,2,0,"mat-error",7),n(),h(14,"input",9),r(15,"div",6),g(16,ge,3,0,"mat-error",7)(17,he,3,0,"mat-error",7)(18,ve,3,0,"mat-error",7),n(),h(19,"input",10),r(20,"div",6),g(21,_e,2,0,"mat-error",7)(22,xe,2,0,"mat-error",7)(23,Ce,2,0,"mat-error",7)(24,be,2,0,"mat-error",7),n(),r(25,"div",11)(26,"button",12),a(27," Crear "),n(),r(28,"div"),a(29," \xBFYa tienes cuenta? "),r(30,"a",13),a(31," Inicia sesi\xF3n "),n()()()()()()),i&2&&(m(5),c("formGroup",o.form),m(3),c("ngIf",o.controlTouched("email")&&o.controlHasError("email","required")),m(),c("ngIf",o.controlTouched("email")&&o.controlHasError("email","email")),m(3),c("ngIf",o.controlTouched("username")&&o.controlHasError("username","required")),m(),c("ngIf",o.controlTouched("username")&&o.controlHasError("username","pattern")),m(3),c("ngIf",o.controlTouched("pwd")&&o.controlHasError("pwd","required")),m(),c("ngIf",o.controlTouched("pwd")&&o.controlHasError("pwd","minlength")),m(),c("ngIf",o.controlTouched("pwd")&&o.controlHasError("pwd","pattern")),m(3),c("ngIf",o.controlTouched("confirmPassword")&&o.controlHasError("confirmPassword","required")),m(),c("ngIf",o.controlTouched("pwd")&&o.controlTouched("confirmPassword")&&o.form.hasError("passwordMismatch")),m(),c("ngIf",o.controlTouched("confirmPassword")&&o.controlHasError("confirmPassword","minlength")),m(),c("ngIf",o.controlTouched("confirmPassword")&&o.controlHasError("confirmPassword","pattern")),m(2),c("disabled",o.form.invalid))},dependencies:[S,P,I,F,O,T,Z,$,N],styles:[".canvas[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;overflow-y:auto}.form-div[_ngcontent-%COMP%]{width:100%;max-width:550px;height:fit-content;background-color:#f8fafc;border-radius:8px}.header-div[_ngcontent-%COMP%]{margin-top:60px;margin-bottom:60px;display:flex;justify-content:center}.title[_ngcontent-%COMP%]{margin:0;font-weight:bolder;font-size:40px}.highlight[_ngcontent-%COMP%]{padding:0 .5em;width:fit-content;height:fit-content}.purple[_ngcontent-%COMP%]{background-color:#c6afff;color:#fff}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.error-div[_ngcontent-%COMP%]{min-height:35px;justify-content:start;width:80%;font-size:15px}input[_ngcontent-%COMP%]{outline:0;border:1px solid #9ca3af7e;border-radius:8px;height:40px;font-size:18px;padding:.25em .5em;width:90%;transition:.18s box-shadow ease-in-out}input[_ngcontent-%COMP%]:focus{border-color:#c6afff;box-shadow:0 0 0 3px #c6afff5e;transition:.18s box-shadow ease-in-out;outline:3px solid transparent}.footer-div[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;margin-bottom:30px}button[_ngcontent-%COMP%]{margin-top:30px;border:1px solid #C6AFFF;border-radius:8px;background-color:#c6afff;color:#fff;height:50px;width:50%;font-size:25px;font-weight:550;margin-bottom:30px;transition:.3s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#fff;border-color:#c6afff;box-shadow:0 0 0 3px #c6afff5e;transition:.3s ease-in-out;color:#c6afff;cursor:pointer}a[_ngcontent-%COMP%]{text-decoration:none;color:#c6afff;font-weight:600;transition:.3s ease-in-out}a[_ngcontent-%COMP%]:hover{color:#84f4ff;transition:.3s ease-in-out}button[_ngcontent-%COMP%]:disabled{background-color:#9ca3af;border-color:#9ca3af;color:#fff;cursor:not-allowed;box-shadow:0 0 0 3px #fff}@media screen and (max-width: 640px){.form-div[_ngcontent-%COMP%]{background-color:#fff}}@media screen and (max-width: 350px){.title[_ngcontent-%COMP%]{font-size:30px}}"]});let e=t;return e})();function we(e,t){e&1&&(r(0,"mat-error"),a(1," Este campo es obligatorio "),n())}function Me(e,t){e&1&&(B(0),a(1," Ingrese un correo v\xE1lido "),R())}function Se(e,t){e&1&&(r(0,"mat-error"),a(1," Este campo es obligatorio. "),n())}var re=(()=>{let t=class t{constructor(s,i,o){this.authService=s,this.snackBar=i,this.router=o,this.authRequest={}}ngOnInit(){this.authService.token&&this.router.navigate(["/home"])}login(s){s.invalid||this.authService.authenticate(this.authRequest).subscribe({next:i=>{this.snackBar.open(`Bienvenido ${i.username}`,"Cerrar",{duration:5e3,verticalPosition:"bottom",horizontalPosition:"center"}),this.router.navigate(["home"])},error:i=>{this.snackBar.open("Verifica tus credenciales. Si no tienes cuenta, \xFAnete :)","Cerrar",{duration:5e3,verticalPosition:"bottom",horizontalPosition:"center"})}})}};t.\u0275fac=function(i){return new(i||t)(p(E),p(k),p(y))},t.\u0275cmp=x({type:t,selectors:[["app-login"]],decls:23,vars:6,consts:[["form","ngForm"],["email","ngModel"],["pwd","ngModel"],[1,"canvas"],[1,"form-div"],[1,"header-div"],[1,"title","highlight","purple"],["autocomplete","off",3,"ngSubmit"],["type","text","placeholder","Correo electr\xF3nico","name","email","required","","pattern","^(.+)@(.+)$",3,"ngModelChange","ngModel"],[1,"error-div"],[4,"ngIf"],["type","password","placeholder","Contrase\xF1a","name","pwd","required","",3,"ngModelChange","ngModel"],[1,"footer-div"],["type","submit",3,"disabled"],["routerLink","/signup"]],template:function(i,o){if(i&1){let f=H();r(0,"div",3)(1,"div",4)(2,"div",5)(3,"h1",6),a(4,"Iniciar sesi\xF3n"),n()(),r(5,"form",7,0),M("ngSubmit",function(){b(f);let l=v(6);return w(o.login(l))}),r(7,"input",8,1),V("ngModelChange",function(l){return b(f),L(o.authRequest.email,l)||(o.authRequest.email=l),w(l)}),n(),r(9,"div",9),g(10,we,2,0,"mat-error",10)(11,Me,2,0,"ng-container",10),n(),r(12,"input",11,2),V("ngModelChange",function(l){return b(f),L(o.authRequest.pwd,l)||(o.authRequest.pwd=l),w(l)}),n(),r(14,"div",9),g(15,Se,2,0,"mat-error",10),n(),r(16,"div",12)(17,"button",13),a(18," Ingresar "),n(),r(19,"div"),a(20," \xBFNo tienes cuenta? "),r(21,"a",14),a(22," Reg\xEDstrate "),n()()()()()()}if(i&2){let f=v(6),u=v(8),l=v(13);m(7),q("ngModel",o.authRequest.email),m(3),c("ngIf",u.touched&&u.hasError("required")),m(),c("ngIf",u.touched&&u.hasError("pattern")),m(),q("ngModel",o.authRequest.pwd),m(3),c("ngIf",u.touched&&l.hasError("required")),m(2),c("disabled",f.invalid)}},dependencies:[S,P,I,F,O,T,Y,J,G,W,N],styles:[".canvas[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;overflow-y:auto}.form-div[_ngcontent-%COMP%]{width:100%;max-width:550px;height:fit-content;background-color:#f8fafc;border-radius:8px}.header-div[_ngcontent-%COMP%]{margin-top:60px;margin-bottom:60px;display:flex;justify-content:center}.title[_ngcontent-%COMP%]{margin:0;font-weight:bolder;font-size:40px}.highlight[_ngcontent-%COMP%]{padding:0 .5em;width:fit-content;height:fit-content}.purple[_ngcontent-%COMP%]{background-color:#c6afff;color:#fff}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.error-div[_ngcontent-%COMP%]{min-height:35px;justify-content:start;width:80%;font-size:15px}input[_ngcontent-%COMP%]{outline:0;border:1px solid #9ca3af7e;border-radius:8px;height:40px;font-size:18px;padding:.25em .5em;width:90%;transition:.18s box-shadow ease-in-out}input[_ngcontent-%COMP%]:focus{border-color:#c6afff;box-shadow:0 0 0 3px #c6afff5e;transition:.18s box-shadow ease-in-out;outline:3px solid transparent}.footer-div[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;margin-bottom:30px}button[_ngcontent-%COMP%]{margin-top:80px;margin-bottom:80px;border:1px solid #C6AFFF;border-radius:8px;background-color:#c6afff;color:#fff;height:50px;width:50%;font-size:25px;font-weight:550;transition:.3s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#fff;border-color:#c6afff;box-shadow:0 0 0 3px #c6afff5e;transition:.3s ease-in-out;color:#c6afff;cursor:pointer}a[_ngcontent-%COMP%]{text-decoration:none;color:#c6afff;font-weight:600;transition:.3s ease-in-out}a[_ngcontent-%COMP%]:hover{color:#84f4ff;transition:.3s ease-in-out}button[_ngcontent-%COMP%]:disabled{background-color:#9ca3af;border-color:#9ca3af;color:#fff;cursor:not-allowed;box-shadow:0 0 0 3px #fff}@media screen and (max-width: 640px){.form-div[_ngcontent-%COMP%]{background-color:#fff}}@media screen and (max-width: 350px){.title[_ngcontent-%COMP%]{font-size:30px}}"]});let e=t;return e})();var ye=[{path:"",component:re},{path:"signup",component:oe}],ne=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=C({type:t}),t.\u0275inj=_({imports:[j.forChild(ye),j]});let e=t;return e})();var $e=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=C({type:t}),t.\u0275inj=_({imports:[D,ne,Q,U,ee,X]});let e=t;return e})();export{$e as StudentModule};
