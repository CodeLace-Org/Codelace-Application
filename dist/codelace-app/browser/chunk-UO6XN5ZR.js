import{b as R,c as b,d as T,e as z,h as G,i as V,j as D,m as N,n as U,o as H}from"./chunk-43SKSAFU.js";import{a as L}from"./chunk-K5I5UZGE.js";import{a as A}from"./chunk-LPZJX3T5.js";import"./chunk-EY5NCU4T.js";import{i as B,n as v}from"./chunk-GDZNKSMB.js";import{Ab as j,Eb as x,Kb as c,Lb as l,Oa as _,Ra as s,Sa as P,X as u,aa as k,ea as C,fa as M,jb as y,kb as S,ob as I,pa as p,pb as F,qa as d,qb as o,rb as r,sb as m,wc as E,yb as h}from"./chunk-OBHTKAXJ.js";var $=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C({type:e,selectors:[["app-post"]],decls:2,vars:0,template:function(t,i){t&1&&(o(0,"p"),c(1,"post works!"),r())}});let a=e;return a})();var Z=(a,e)=>e.id;function tt(a,e){if(a&1&&(o(0,"li")(1,"article",39)(2,"div",40),m(3,"img",4),o(4,"div",41)(5,"p",42),c(6),r(),o(7,"p",43),c(8),r()()(),o(9,"p",44),c(10),r()()()),a&2){let f=e.$implicit,n=j();s(3),x("src","data:image/png;base64, ",f.student.profile_picture,"",_),s(3),l(f.student.username),s(2),l(n.formatearFecha(f.date.toString())),s(2),l(f.content)}}var q=(()=>{let e=class e{constructor(n,t,i){this.route=n,this.postsService=t,this.authService=i,this.postId=0,this.hasRocket=!1,this.svgColor="#A5ABB7",this.studentId=0,this.formBuilder=k(N),this.formGroup=this.formBuilder.group({content:["",[b.required,b.minLength(1)]]})}ngOnInit(){let n=this.authService.user;this.route.queryParams.subscribe(t=>{this.postId=+t.postId}),n&&(this.studentId=n.id,this.getPost(this.postId),this.postsService.getAllCommentsByPostId(this.postId).subscribe({next:t=>{this.comments=t,console.log(t)},error:t=>{console.error(t)}}),this.postsService.verifyRocket(this.postId,this.studentId).subscribe({next:t=>{t.length!=0?(this.hasRocket=!0,this.svgColor="#C6AFFF"):(this.hasRocket=!1,this.svgColor="#A5ABB7"),console.log(t)},error:t=>{t.status===404?(this.hasRocket=!1,console.log("Rocket not found.")):console.error(t)}}))}formatearFecha(n){let t=n.includes("/")?"/":"-",i=n.split(t),g=parseInt(i[0],10),W=parseInt(i[1],10)-1,Y=parseInt(i[2],10),O=new Date(Y,W,g),K=O.getDate(),Q=O.getMonth(),X=O.getFullYear();return`${K} ${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][Q]} ${X}`}submit(){if(this.formGroup.valid){let n=this.formGroup.controls.content.value??"";this.postsService.createComment(this.postId,this.studentId,n).subscribe({next:t=>{this.comments.push(t),this.getPost(this.postId),console.log(t)},error:t=>{console.error(t)}})}}getPost(n){this.postsService.getPostById(n).subscribe({next:t=>{this.post=t,console.log(t)},error:t=>{console.error(t)}})}redirectToUrl(n){!n.startsWith("http://")&&!n.startsWith("https://")&&(n="http://"+n),window.location.href=n}handleRocket(){this.hasRocket?this.postsService.deleteRocket(this.postId,this.studentId).subscribe({next:n=>{this.hasRocket=!1,this.post.rockets--,console.log(n)},error:n=>{console.error(n)}}):this.postsService.createRocket(this.postId,this.studentId).subscribe({next:n=>{this.hasRocket=!0,this.post.rockets++,console.log(n)},error:n=>{console.error(n)}}),this.svgColor=this.hasRocket?"#A5ABB7":"#C6AFFF"}};e.\u0275fac=function(t){return new(t||e)(P(B),P(L),P(A))},e.\u0275cmp=C({type:e,selectors:[["app-post-information"]],decls:70,vars:12,consts:[[1,"content"],[1,"box"],["id","post-header"],[1,"profile"],["alt","imagen",3,"src"],[1,"calendar"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24","stroke-width","1.5","stroke","#5c6671","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-calendar-bolt"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M13.5 21h-7.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5"],["d","M16 3v4"],["d","M8 3v4"],["d","M4 11h16"],["d","M19 16l-2 3h4l-2 3"],["id","post-information"],[1,"url",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24"],["fill","none","d","M0 0h24v24H0z"],["fill","#D7BBFF","d","M13 3v2h3.586l-7.293 7.293 1.414 1.414L18 6.414V10h2V3h-7zm5 16H6V6h5V4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2v5z"],[1,"container"],[1,"icons"],[1,"rocket",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24","stroke-width","1.5","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-rocket"],["d","M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"],["d","M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"],["d","M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24","stroke-width","1.5","stroke","#A5ABB7","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-message-2"],["d","M8 9h8"],["d","M8 13h6"],["d","M9 18h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-3l-3 3l-3 -3z"],[1,"project-description"],[1,"vertical-line"],["id","comments"],[1,"send-comment"],[1,"form-send-comment",3,"ngSubmit","formGroup"],["formControlName","content","placeholder","Comentar algo",1,"textarea-comment"],["type","submit",1,"button-submit"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24","stroke-width","1.5","stroke","#4B5563","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-send-2"],["d","M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"],["d","M6.5 12h14.5"],[1,"card"],[1,"head-comment"],[1,"description"],[1,"username"],[1,"date"],[1,"text"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"section",1)(2,"div",2)(3,"header")(4,"div",3),m(5,"img",4),o(6,"p"),c(7),r()(),o(8,"div",5),p(),o(9,"svg",6),m(10,"path",7)(11,"path",8)(12,"path",9)(13,"path",10)(14,"path",11)(15,"path",12),r(),d(),o(16,"p"),c(17),r()()(),m(18,"img",4),r(),o(19,"div",13)(20,"header")(21,"div",14),h("click",function(){return i.redirectToUrl(i.post.demoUrl)}),o(22,"p"),c(23,"Demo URL"),r(),p(),o(24,"svg",15),m(25,"path",16)(26,"path",17),r()(),d(),o(27,"div",14),h("click",function(){return i.redirectToUrl(i.post.repoUrl)}),o(28,"p"),c(29,"Repository URL"),r(),p(),o(30,"svg",15),m(31,"path",16)(32,"path",17),r()(),d(),o(33,"div",18)(34,"div",19)(35,"p"),c(36),r(),o(37,"button",20),h("click",function(){return i.handleRocket()}),p(),o(38,"svg",21),m(39,"path",7)(40,"path",22)(41,"path",23)(42,"path",24),r()()(),d(),o(43,"div",19)(44,"p"),c(45),r(),p(),o(46,"svg",25),m(47,"path",7)(48,"path",26)(49,"path",27)(50,"path",28),r()()()()(),d(),o(51,"div",29)(52,"h1"),c(53),r(),o(54,"p"),c(55),r()()(),m(56,"div",30),o(57,"section",31)(58,"ul"),I(59,tt,11,5,"li",null,Z),r(),o(61,"div",32)(62,"form",33),h("ngSubmit",function(){return i.submit()}),o(63,"textarea",34),c(64,"                "),r(),o(65,"button",35),p(),o(66,"svg",36),m(67,"path",7)(68,"path",37)(69,"path",38),r()()()()()()),t&2&&(s(5),x("src","data:image/png;base64,",i.post.student.profile_picture,"",_),s(2),l(i.post.student.username),s(10),l(i.formatearFecha(i.post.date)),s(),x("src","data:image/png;base64, ",i.post.image,"",_),s(18),l(i.post.rockets),s(2),y("stroke",i.svgColor),s(7),l(i.post.comments),s(8),l(i.post.title),s(2),l(i.post.description),s(4),F(i.comments),s(3),S("formGroup",i.formGroup))},dependencies:[G,R,T,z,V,D],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.content[_ngcontent-%COMP%]{overflow-y:auto;height:98%;display:grid;grid-template-columns:5fr .5fr 2fr;grid-template-rows:1fr;grid-auto-rows:max-content;padding:3rem}.vertical-line[_ngcontent-%COMP%]{border-left:1px solid #ccc;height:100%;margin:0 auto}.box[_ngcontent-%COMP%]{padding:20px;background-color:#f8fafc;border-radius:5px}#post-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#post-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;align-items:center;margin-bottom:20px;padding:10px 15px}#post-header[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-bottom:20px;width:25rem;height:25rem}.profile[_ngcontent-%COMP%]{display:flex;align-items:center}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:15px}.profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700;color:#5c6671}.calendar[_ngcontent-%COMP%]{display:flex;align-items:center}.calendar[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px}.calendar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700;color:#5c6671}#post-information[_ngcontent-%COMP%]{margin-top:20px}#post-information[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%}#post-information[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%]{display:flex;margin-right:20px;width:auto;border:2px #C6AFFF solid;padding:8px;border-radius:5px;cursor:pointer}#post-information[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 10px 0 0;white-space:nowrap;color:#a5abb7;font-weight:550}#post-information[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}#post-information[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:end}#post-information[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;margin-right:20px;align-items:center;justify-content:center}#post-information[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 5px;white-space:nowrap}#post-information[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}#post-information[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .rocket[_ngcontent-%COMP%]{border:none;background-color:#f8fafc}#rocket-icon[_ngcontent-%COMP%]{cursor:pointer}.project-description[_ngcontent-%COMP%]{margin-top:20px}.project-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#c6afff;font-size:45px;font-weight:700}.project-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#4b5563;font-size:20px;font-weight:500}#comments[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto}#comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}#comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}#comments[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{background-color:#f8fafc;padding:10px 25px}#comments[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .head-comment[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:10px;border-radius:5px;margin-bottom:10px}#comments[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .head-comment[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}#comments[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .head-comment[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:start}#comments[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .head-comment[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}#comments[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .head-comment[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{margin:0;font-weight:700;color:#5c6671}#comments[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .head-comment[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#a5abb7}#comments[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#18122b;font-weight:700}#comments[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.send-comment[_ngcontent-%COMP%]{position:sticky;bottom:0;width:100%}.form-send-comment[_ngcontent-%COMP%]{display:flex;width:100%}.textarea-comment[_ngcontent-%COMP%]{resize:none;flex-grow:1;padding:8px;height:40px;border:1px solid #C6AFFF;border-radius:8px 0 0 8px;border-right:none}.textarea-comment[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-size:15px;font-weight:500;padding-left:5px}.textarea-comment[_ngcontent-%COMP%]:focus{border-color:none;outline:none}.button-submit[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #C6AFFF;border-left:none;border-radius:0 8px 8px 0;background:#fff}@media (max-width: 1200px){.content[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:0}#comments[_ngcontent-%COMP%]{width:100%;margin-top:20px}}@media (max-width: 550px){.content[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:0}#post-header[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%], #post-information[_ngcontent-%COMP%]   header[_ngcontent-%COMP%], .icons[_ngcontent-%COMP%], .project-description[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}#post-header[_ngcontent-%COMP%] > img[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .head-comment[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.send-comment[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center!important}.box[_ngcontent-%COMP%], .article[_ngcontent-%COMP%]{padding:10px}.vertical-line[_ngcontent-%COMP%]{display:none}.textarea-comment[_ngcontent-%COMP%]{flex-grow:unset;width:85%;border-radius:8}.textarea-comment[_ngcontent-%COMP%]{border-right:1px solid #C6AFFF}.button-submit[_ngcontent-%COMP%]{border-left:none}.url[_ngcontent-%COMP%]{margin-bottom:20px}}"]});let a=e;return a})();var et=[{path:"",component:$},{path:"post-information",component:q}],J=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=M({type:e}),e.\u0275inj=u({imports:[v.forChild(et),v]});let a=e;return a})();var bt=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=M({type:e}),e.\u0275inj=u({imports:[E,J,H,U]});let a=e;return a})();export{bt as PostModule};
